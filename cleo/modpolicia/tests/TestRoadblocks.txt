{$CLEO .csa}
03A4: script_name 'Test'

// Spawns roadblocks

0000:
0@ = 0
jump @PRELOAD
 
//----------------------------------------
:MAIN
wait 0

if 
    0256: player $PLAYER_CHAR defined
jf @MAIN

if
    0A51: is_widget_pressed 76 //left arrow small
then
    0@ += 1
    
    if 0@ == 1
    then
        02FF: show_text_3numbers GXT 'MPFX1' numbers 1 0 0 time 1000 flag 1
        
        04C4: store_coords_to 1@ 2@ 3@ from_actor $PLAYER_ACTOR with_offset 0.0 0.0 0.0
                        
        02C1: store_to 4@ 5@ 6@ car_path_coords_closest_to 1@ 2@ 3@ 
        
        04C0: create_roadblock_in_area_cornerA 4@ 5@ 6@ cornerB 4@ 5@ 6@ type 0
        
        03BC: 7@ = create_sphere_at 4@ 5@ 6@ radius 3.0  
        
        wait 1000
    end
    
    if 0@ == 2
    then
       0@ = 0
    end
end 
   
jump @MAIN

//----------------------------------------

:PRELOAD

/*
0247: load_model 280
0247: load_model 596
038B: load_requested_models
*/

jump @PRELOAD_WAIT

//----------------------------------------

:PRELOAD_WAIT

/*
if and
    0248: model 280 available
    0248: model 596 available
jf @PRELOAD_WAIT
*/

jump @MAIN